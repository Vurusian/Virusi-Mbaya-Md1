/*

VIRUSI-MBAYA-MD

*/

const _0x133b5f=_0x32e8;(function(_0x24a180,_0x99dcf5){const _0x4b119b=_0x32e8,_0x5357a2=_0x24a180();while(!![]){try{const _0x48a780=-parseInt(_0x4b119b(0xeb))/0x1+-parseInt(_0x4b119b(0xdf))/0x2*(-parseInt(_0x4b119b(0xd2))/0x3)+parseInt(_0x4b119b(0xa2))/0x4*(parseInt(_0x4b119b(0xbd))/0x5)+-parseInt(_0x4b119b(0xc4))/0x6*(parseInt(_0x4b119b(0xc3))/0x7)+parseInt(_0x4b119b(0xe1))/0x8*(parseInt(_0x4b119b(0xbb))/0x9)+parseInt(_0x4b119b(0xe3))/0xa*(-parseInt(_0x4b119b(0xf4))/0xb)+parseInt(_0x4b119b(0xc6))/0xc;if(_0x48a780===_0x99dcf5)break;else _0x5357a2['push'](_0x5357a2['shift']());}catch(_0x4da9eb){_0x5357a2['push'](_0x5357a2['shift']());}}}(_0x1d1a,0x5696b));const ffmpeg=require(_0x133b5f(0xe2)),{randomBytes}=require(_0x133b5f(0xef)),fs=require('fs'),{getHttpStream,toBuffer}=require(_0x133b5f(0xc5)),sharp=require('sharp'),{spawn}=require(_0x133b5f(0xc2)),path=require('path'),{fromBuffer}=require(_0x133b5f(0xd5)),{tmpdir}=require('os'),ff=require(_0x133b5f(0xe2)),webp=require('node-webpmux');async function toGif(_0x1ce493){const _0x1151c5=_0x133b5f;try{const _0x982394='./'+randomBytes(0x3)[_0x1151c5(0xa5)](_0x1151c5(0xb9))+'.webp',_0x112138='./'+randomBytes(0x3)[_0x1151c5(0xa5)](_0x1151c5(0xb9))+_0x1151c5(0xee);fs[_0x1151c5(0xc1)](_0x982394,_0x1ce493[_0x1151c5(0xa5)]('binary'),_0x1151c5(0xe5));const _0x2d2eb6=await new Promise(_0x3b08a4=>{const _0x311995=_0x1151c5;spawn(_0x311995(0xdd),[_0x982394,_0x112138])['on'](_0x311995(0xcc),_0x30a9b6=>{throw _0x30a9b6;})['on'](_0x311995(0xe0),()=>_0x3b08a4(_0x112138));});let _0xe14ed1=fs[_0x1151c5(0xba)](_0x2d2eb6);try{fs['unlinkSync'](_0x982394);}catch{}try{fs[_0x1151c5(0xe4)](_0x112138);}catch{}return _0xe14ed1;}catch(_0x57f56b){console['log'](_0x57f56b);}}async function toMp4(_0x4ca92a){const _0xf4d99f=_0x133b5f;try{let _0x342539='./'+randomBytes(0x3)[_0xf4d99f(0xa5)]('hex')+_0xf4d99f(0xee);const _0x311dd6=fs['existsSync'](_0x4ca92a)?_0x4ca92a:save(_0x4ca92a,_0x342539),_0x4a7b8a='./'+randomBytes(0x3)[_0xf4d99f(0xa5)](_0xf4d99f(0xb9))+'.mp4',_0x4c88ed=await new Promise(_0x163ec7=>{const _0x5abf08=_0xf4d99f;ffmpeg(_0x311dd6)[_0x5abf08(0xc7)]([_0x5abf08(0xb0),_0x5abf08(0xa3),_0x5abf08(0x9f),'-filter:v\x20crop=\x27floor(in_w/2)*2:floor(in_h/2)*2\x27'])[_0x5abf08(0xd6)](_0x5abf08(0xab))[_0x5abf08(0xb1)]()[_0x5abf08(0xb2)](_0x4a7b8a)['on'](_0x5abf08(0xe0),()=>_0x163ec7(_0x4a7b8a));});let _0x5550b9=await fs[_0xf4d99f(0xf0)][_0xf4d99f(0xf6)](_0x4c88ed);try{fs['unlinkSync'](_0x311dd6);}catch{}try{fs[_0xf4d99f(0xe4)](_0x4a7b8a);}catch{}return _0x5550b9;}catch(_0x5f421c){console['log'](_0x5f421c);}}const EightD=async _0x5662de=>{const _0x17b608=_0x133b5f,_0xeb543a='./temp/'+randomBytes(0x3)['toString']('hex')+'.mp3';_0x5662de=Buffer[_0x17b608(0xd4)](_0x5662de)?save(_0x5662de,_0xeb543a):_0x5662de;const _0x27ee87=_0x17b608(0xe7)+randomBytes(0x3)['toString']('hex')+'.mp3',_0x255965=await new Promise(_0x287ba7=>{const _0x42343e=_0x17b608;ffmpeg(_0x5662de)[_0x42343e(0xd3)]([_0x42343e(0xce)])[_0x42343e(0xed)](0xac44)[_0x42343e(0xac)](0x2)['audioBitrate'](_0x42343e(0xcf))[_0x42343e(0xf5)](_0x42343e(0xde))[_0x42343e(0xa8)](0x5)[_0x42343e(0xd6)]('mp3')['save'](_0x27ee87)['on']('end',()=>_0x287ba7(_0x27ee87));});return _0x255965;};function save(_0x299647,_0x1d82b3=_0x133b5f(0xdc)){const _0x33c8ca=_0x133b5f;try{return fs[_0x33c8ca(0xc1)](_0x1d82b3,_0x299647[_0x33c8ca(0xa5)](_0x33c8ca(0xe5)),'binary'),_0x1d82b3;}catch(_0x5a39ee){console[_0x33c8ca(0xb5)](_0x5a39ee);}}const resizeImage=(_0x46ecdb,_0x4f2e1b,_0x1f509c)=>{const _0x179ec3=_0x133b5f;if(!Buffer[_0x179ec3(0xd4)](_0x46ecdb))throw _0x179ec3(0xcb);return new Promise(async _0x5bca6c=>{const _0x2599de=_0x179ec3;sharp(_0x46ecdb)[_0x2599de(0xb8)](_0x4f2e1b,_0x1f509c,{'fit':'contain'})['toBuffer']()[_0x2599de(0xc0)](_0x5bca6c);});},_parseInput=async(_0x5f1397,_0x3d47f3=![],_0x3af83c='path')=>{const _0x59d0a3=_0x133b5f,_0x4e577f=await toBuffer(await getHttpStream(_0x5f1397)),_0x1987a5=_0x59d0a3(0xe9)+randomBytes(0x3)[_0x59d0a3(0xa5)](_0x59d0a3(0xb9))+'.'+(_0x3d47f3?_0x3d47f3:(await fromBuffer(_0x4e577f))[_0x59d0a3(0xe8)]),_0x2d0fd1=Buffer['isBuffer'](_0x5f1397)?save(_0x5f1397,_0x1987a5):fs[_0x59d0a3(0xa4)](_0x5f1397)?_0x5f1397:_0x5f1397;if(_0x3af83c=='path')return _0x2d0fd1;else{if(_0x3af83c==_0x59d0a3(0xf3)){const _0x2a2ddb=await fs[_0x59d0a3(0xf0)][_0x59d0a3(0xf6)](_0x2d0fd1);try{await fs[_0x59d0a3(0xf0)][_0x59d0a3(0xb4)](_0x2d0fd1);}catch(_0x495ce0){}return _0x2a2ddb;}}};function _0x1d1a(){const _0x178d3f=['1692906mBUoRm','@whiskeysockets/baileys','5993220ZoScif','outputOptions','addOutputOptions','author','exif','Input\x20is\x20not\x20a\x20Buffer','error','join','apulsator=hz=0.125','128k','webp','-ss','123mQnbwE','audioFilter','isBuffer','file-type','toFormat','categories','.webp','Virusi-Md','packname','-preset','./temp/saveFile.jpg','convert','libmp3lame','3254nDPWSb','exit','1130096DskSgl','fluent-ffmpeg','810keIdZd','unlinkSync','binary','scale=\x27min(320,iw)\x27:min\x27(320,ih)\x27:force_original_aspect_ratio=decrease,fps=15,\x20pad=320:320:-1:-1:color=white@0.0,\x20split\x20[a][b];\x20[a]\x20palettegen=reserve_transparent=on:transparency_color=ffffff\x20[p];\x20[b][p]\x20paletteuse','./temp/','ext','./temp/file_','-vf','648165lIkCko','.jpg','audioFrequency','.gif','crypto','promises','writeUIntLE','exports','buffer','54813uGDLJL','audioCodec','readFile','-movflags\x20+faststart','end','Asta_Md','1114832WIyPVs','-c:v\x20libx264','existsSync','toString','length','readUIntLE','audioQuality','concat','from','mp4','audioChannels','default','load','stringify','-pix_fmt\x20yuv420p','noAudio','save','utf-8','unlink','log','Image','libwebp','resize','hex','readFileSync','36OuxAwn','00:00:05','10FFExNz','-an','-loop','then','writeFileSync','child_process','7ljdxDY'];_0x1d1a=function(){return _0x178d3f;};return _0x1d1a();}function _0x32e8(_0x405c2c,_0x1332b5){const _0x1d1a90=_0x1d1a();return _0x32e8=function(_0x32e8d4,_0x2bdd22){_0x32e8d4=_0x32e8d4-0x9f;let _0x230153=_0x1d1a90[_0x32e8d4];return _0x230153;},_0x32e8(_0x405c2c,_0x1332b5);}async function imageToWebp(_0x554f21){const _0x45b7f4=_0x133b5f,_0x55fd4d=path[_0x45b7f4(0xcd)](tmpdir(),randomBytes(0x6)[_0x45b7f4(0xa7)](0x0,0x6)[_0x45b7f4(0xa5)](0x24)+_0x45b7f4(0xd8)),_0x26d79d=path['join'](tmpdir(),randomBytes(0x6)[_0x45b7f4(0xa7)](0x0,0x6)[_0x45b7f4(0xa5)](0x24)+_0x45b7f4(0xec));fs[_0x45b7f4(0xc1)](_0x26d79d,_0x554f21),await new Promise((_0x572815,_0x1046c5)=>{const _0x451e22=_0x45b7f4;ff(_0x26d79d)['on'](_0x451e22(0xcc),_0x1046c5)['on'](_0x451e22(0xa0),()=>_0x572815(!![]))[_0x451e22(0xc8)](['-vcodec','libwebp','-vf',_0x451e22(0xe6)])[_0x451e22(0xd6)](_0x451e22(0xd0))[_0x451e22(0xb2)](_0x55fd4d);});const _0xe8a877=fs[_0x45b7f4(0xba)](_0x55fd4d);return fs[_0x45b7f4(0xe4)](_0x55fd4d),fs[_0x45b7f4(0xe4)](_0x26d79d),_0xe8a877;}async function videoToWebp(_0x216784){const _0x54e7e1=_0x133b5f,_0x474977=path[_0x54e7e1(0xcd)](tmpdir(),randomBytes(0x6)['readUIntLE'](0x0,0x6)['toString'](0x24)+_0x54e7e1(0xd8)),_0x11de8d=path['join'](tmpdir(),randomBytes(0x6)[_0x54e7e1(0xa7)](0x0,0x6)[_0x54e7e1(0xa5)](0x24)+'.mp4');fs['writeFileSync'](_0x11de8d,_0x216784),await new Promise((_0x5738a8,_0x405976)=>{const _0x4bcda1=_0x54e7e1;ff(_0x11de8d)['on'](_0x4bcda1(0xcc),_0x405976)['on']('end',()=>_0x5738a8(!![]))[_0x4bcda1(0xc8)](['-vcodec',_0x4bcda1(0xb7),_0x4bcda1(0xea),_0x4bcda1(0xe6),_0x4bcda1(0xbf),'0',_0x4bcda1(0xd1),'00:00:00','-t',_0x4bcda1(0xbc),_0x4bcda1(0xdb),_0x4bcda1(0xad),_0x4bcda1(0xbe),'-vsync','0'])['toFormat'](_0x4bcda1(0xd0))[_0x4bcda1(0xb2)](_0x474977);});const _0x115070=fs['readFileSync'](_0x474977);return fs[_0x54e7e1(0xe4)](_0x474977),fs['unlinkSync'](_0x11de8d),_0x115070;}async function writeExifImg(_0x13699a,_0x136ea4){const _0x2420d2=_0x133b5f;let _0x387092=await imageToWebp(_0x13699a);const _0x5dfaee=path['join'](tmpdir(),randomBytes(0x6)[_0x2420d2(0xa7)](0x0,0x6)[_0x2420d2(0xa5)](0x24)+_0x2420d2(0xd8)),_0x54cd33=path[_0x2420d2(0xcd)](tmpdir(),randomBytes(0x6)[_0x2420d2(0xa7)](0x0,0x6)['toString'](0x24)+_0x2420d2(0xd8));fs[_0x2420d2(0xc1)](_0x5dfaee,_0x387092);if(_0x136ea4[_0x2420d2(0xda)]||_0x136ea4[_0x2420d2(0xc9)]){const _0x2daddd=new webp[(_0x2420d2(0xb6))](),_0xd387a={'sticker-pack-id':_0x2420d2(0xd9),'sticker-pack-name':_0x136ea4['packname'],'sticker-pack-publisher':_0x136ea4['author'],'emojis':_0x136ea4[_0x2420d2(0xd7)]?_0x136ea4[_0x2420d2(0xd7)]:['']},_0x26f19a=Buffer[_0x2420d2(0xaa)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x134a84=Buffer[_0x2420d2(0xaa)](JSON['stringify'](_0xd387a),_0x2420d2(0xb3)),_0x3b190e=Buffer[_0x2420d2(0xa9)]([_0x26f19a,_0x134a84]);return _0x3b190e[_0x2420d2(0xf1)](_0x134a84[_0x2420d2(0xa6)],0xe,0x4),await _0x2daddd[_0x2420d2(0xae)](_0x5dfaee),fs[_0x2420d2(0xe4)](_0x5dfaee),_0x2daddd['exif']=_0x3b190e,await _0x2daddd[_0x2420d2(0xb2)](_0x54cd33),_0x54cd33;}}async function writeExifVid(_0x17a6f7,_0x1d180a){const _0x1fcb2d=_0x133b5f;let _0x1d6ee1=await videoToWebp(_0x17a6f7);const _0x4c334c=path[_0x1fcb2d(0xcd)](tmpdir(),randomBytes(0x6)[_0x1fcb2d(0xa7)](0x0,0x6)[_0x1fcb2d(0xa5)](0x24)+_0x1fcb2d(0xd8)),_0x74c048=path['join'](tmpdir(),randomBytes(0x6)[_0x1fcb2d(0xa7)](0x0,0x6)[_0x1fcb2d(0xa5)](0x24)+_0x1fcb2d(0xd8));fs['writeFileSync'](_0x4c334c,_0x1d6ee1);let _0xaf5280,_0x4eac6c;try{_0xaf5280=_0x1d180a['packname'];}catch(_0x5da155){_0xaf5280=_0x1fcb2d(0xd9);}try{_0x4eac6c=_0x1d180a[_0x1fcb2d(0xc9)];}catch(_0x162b35){_0x4eac6c='';}const _0x5cbb7f=new webp[(_0x1fcb2d(0xb6))](),_0x45bd0b={'sticker-pack-id':_0x1fcb2d(0xd9),'sticker-pack-name':_0xaf5280,'sticker-pack-publisher':_0x4eac6c,'emojis':_0x1d180a[_0x1fcb2d(0xd7)]?_0x1d180a[_0x1fcb2d(0xd7)]:['']},_0x3817c8=Buffer[_0x1fcb2d(0xaa)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x1c0f85=Buffer[_0x1fcb2d(0xaa)](JSON[_0x1fcb2d(0xaf)](_0x45bd0b),_0x1fcb2d(0xb3)),_0x4a2a34=Buffer[_0x1fcb2d(0xa9)]([_0x3817c8,_0x1c0f85]);return _0x4a2a34[_0x1fcb2d(0xf1)](_0x1c0f85['length'],0xe,0x4),await _0x5cbb7f[_0x1fcb2d(0xae)](_0x4c334c),fs['unlinkSync'](_0x4c334c),_0x5cbb7f[_0x1fcb2d(0xca)]=_0x4a2a34,await _0x5cbb7f[_0x1fcb2d(0xb2)](_0x74c048),_0x74c048;}async function writeExifWebp(_0x56437a,_0x1bf613){const _0x227be4=_0x133b5f,_0xe3e126=path['join'](tmpdir(),randomBytes(0x6)['readUIntLE'](0x0,0x6)['toString'](0x24)+_0x227be4(0xd8)),_0x4c481c=path[_0x227be4(0xcd)](tmpdir(),randomBytes(0x6)['readUIntLE'](0x0,0x6)[_0x227be4(0xa5)](0x24)+_0x227be4(0xd8));fs[_0x227be4(0xc1)](_0xe3e126,_0x56437a);if(_0x1bf613[_0x227be4(0xda)]||_0x1bf613[_0x227be4(0xc9)]){const _0x5e6946=new webp[(_0x227be4(0xb6))](),_0x57e276={'sticker-pack-id':_0x227be4(0xa1),'sticker-pack-name':_0x1bf613['packname'],'sticker-pack-publisher':_0x1bf613['author'],'emojis':_0x1bf613[_0x227be4(0xd7)]?_0x1bf613[_0x227be4(0xd7)]:['']},_0x5de508=await Buffer[_0x227be4(0xaa)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x86dcc0=await Buffer[_0x227be4(0xaa)](JSON[_0x227be4(0xaf)](_0x57e276),_0x227be4(0xb3)),_0x289a9a=await Buffer[_0x227be4(0xa9)]([_0x5de508,_0x86dcc0]);return await _0x289a9a[_0x227be4(0xf1)](_0x86dcc0[_0x227be4(0xa6)],0xe,0x4),await _0x5e6946[_0x227be4(0xae)](_0xe3e126),fs[_0x227be4(0xe4)](_0xe3e126),_0x5e6946[_0x227be4(0xca)]=_0x289a9a,await _0x5e6946[_0x227be4(0xb2)](_0x4c481c),_0x4c481c;}}module[_0x133b5f(0xf2)]={'imageToWebp':imageToWebp,'videoToWebp':videoToWebp,'writeExifImg':writeExifImg,'writeExifVid':writeExifVid,'writeExifWebp':writeExifWebp,'toGif':toGif,'toMp4':toMp4,'EightD':EightD,'_parseInput':_parseInput,'resizeImage':resizeImage};

/*

VIRUSI-MBAYA-MD

*/
